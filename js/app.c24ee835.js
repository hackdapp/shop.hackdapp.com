(function(t){function n(n){for(var c,a,u=n[0],i=n[1],s=n[2],d=0,l=[];d<u.length;d++)a=u[d],o[a]&&l.push(o[a][0]),o[a]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);f&&f(n);while(l.length)l.shift()();return r.push.apply(r,s||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],c=!0,a=1;a<e.length;a++){var u=e[a];0!==o[u]&&(c=!1)}c&&(r.splice(n--,1),t=i(i.s=e[0]))}return t}var c={},a={app:0},o={app:0},r=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-1010c91a":"598ae872","chunk-42adc23d":"68120441","chunk-433df7b3":"ace76863","chunk-03ddc2cd":"90dfd2e3","chunk-496d4a17":"3c41e5e1","chunk-594ddb53":"d1f6c9f5","chunk-750372ea":"50d91f4f","chunk-7d016d93":"60430bb4","chunk-7dc8864c":"1fadb22c","chunk-154b6fe0":"4a0b3010","chunk-66c19a1c":"598887a9","chunk-7c397a60":"75fb256d"}[t]+".js"}function i(n){if(c[n])return c[n].exports;var e=c[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.e=function(t){var n=[],e={"chunk-1010c91a":1,"chunk-42adc23d":1,"chunk-433df7b3":1,"chunk-03ddc2cd":1,"chunk-496d4a17":1,"chunk-594ddb53":1,"chunk-750372ea":1,"chunk-7d016d93":1,"chunk-7dc8864c":1,"chunk-154b6fe0":1,"chunk-66c19a1c":1,"chunk-7c397a60":1};a[t]?n.push(a[t]):0!==a[t]&&e[t]&&n.push(a[t]=new Promise(function(n,e){for(var c="css/"+({}[t]||t)+"."+{"chunk-1010c91a":"68e72fa9","chunk-42adc23d":"3026968f","chunk-433df7b3":"aeff6e55","chunk-03ddc2cd":"edeac3a7","chunk-496d4a17":"df21ab59","chunk-594ddb53":"fa1d8fd9","chunk-750372ea":"4230927f","chunk-7d016d93":"1d4313ef","chunk-7dc8864c":"6760788c","chunk-154b6fe0":"5d0f38a1","chunk-66c19a1c":"72fc080f","chunk-7c397a60":"e7c111c2"}[t]+".css",a=i.p+c,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var u=o[r],s=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===c||s===a))return n()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){u=d[r],s=u.getAttribute("data-href");if(s===c||s===a)return n()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=n,l.onerror=function(n){var c=n&&n.target&&n.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+c+")");o.request=c,e(o)},l.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(l)}).then(function(){a[t]=0}));var c=o[t];if(0!==c)if(c)n.push(c[2]);else{var r=new Promise(function(n,e){c=o[t]=[n,e]});n.push(c[2]=r);var s,d=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(t),s=function(n){l.onerror=l.onload=null,clearTimeout(f);var e=o[t];if(0!==e){if(e){var c=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src,r=new Error("Loading chunk "+t+" failed.\n("+c+": "+a+")");r.type=c,r.request=a,e[1](r)}o[t]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,d.appendChild(l)}return Promise.all(n)},i.m=t,i.c=c,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var c in t)i.d(e,c,function(n){return t[n]}.bind(null,c));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var f=d;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"13eb":function(t,n,e){"use strict";var c=e("20a8"),a=e.n(c);a.a},"20a8":function(t,n,e){},2856:function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("097d");var c=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("alert"),t.isLoading?e("loading"):t._e(),e("router-view")],1)},o=[],r=e("c428"),u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"alert",class:{showalert:t.alert.boolean}},[e("p",[t._v(t._s(t.alert.title)),e("i",{staticClass:"far fa-times-circle",on:{click:t.closealert}})])])},i=[],s=e("c93e"),d=e("2f62"),l={name:"alert",methods:{closealert:function(){this.$store.dispatch("closealert",!1)}},computed:Object(s["a"])({},Object(d["c"])(["alert"]))},f=l,h=(e("646e"),e("2877")),p=Object(h["a"])(f,u,i,!1,null,"7876b69a",null);p.options.__file="alert.vue";var m=p.exports,g={name:"App",components:{loading:r["a"],alert:m},computed:{isLoading:function(){return this.$store.state.isLoading}}},b=g,v=(e("5c0b"),Object(h["a"])(b,a,o,!1,null,null,null));v.options.__file="App.vue";var k=v.exports,y=e("8c4f");c["a"].use(y["a"]);var A=new y["a"]({routes:[{path:"*",redirect:"/"},{path:"/",name:"Home",component:function(){return Promise.all([e.e("chunk-433df7b3"),e.e("chunk-03ddc2cd")]).then(e.bind(null,"6511"))}},{path:"/categories",name:"categories",component:function(){return Promise.all([e.e("chunk-7dc8864c"),e.e("chunk-433df7b3"),e.e("chunk-66c19a1c")]).then(e.bind(null,"5f29"))}},{path:"/categories/:productId",name:"productInfo",component:function(){return e.e("chunk-42adc23d").then(e.bind(null,"d601"))}},{path:"/checkout",name:"Checkout",component:function(){return e.e("chunk-7d016d93").then(e.bind(null,"e86f"))}},{path:"/comfirm/:orderId",name:"comfirm",component:function(){return e.e("chunk-594ddb53").then(e.bind(null,"d5a2"))}},{path:"/signin",name:"signin",component:function(){return e.e("chunk-750372ea").then(e.bind(null,"ac9e"))}},{path:"",name:"admin",component:function(){return e.e("chunk-496d4a17").then(e.bind(null,"b6a5"))},children:[{path:"/admin",name:"productsManger",component:function(){return Promise.all([e.e("chunk-7dc8864c"),e.e("chunk-7c397a60")]).then(e.bind(null,"3cc2"))},meta:{requiresAuth:!0}},{path:"/admin/orderManager",name:"orderManager",component:function(){return Promise.all([e.e("chunk-7dc8864c"),e.e("chunk-154b6fe0")]).then(e.bind(null,"1959"))},meta:{requiresAuth:!0}},{path:"/admin/cupconManager",name:"cupconManager",component:function(){return e.e("chunk-1010c91a").then(e.bind(null,"569c"))},meta:{cupconManager:!0}}]}]}),O=e("bc3a"),T=e.n(O);c["a"].use(d["a"]);var _=new d["a"].Store({strict:!0,state:{status:!1,isLoading:!1,cart:{carts:[]},alert:{boolean:!1,title:""},products:[],pagination:{}},actions:{updateLoading:function(t,n){t.commit("LOADING",n)},getCart:function(t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("icguanyu","/cart");t.commit("LOADING",!0),T.a.get(n).then(function(n){t.commit("CARTS",n.data.data),t.commit("LOADING",!1)})},showalert:function(t,n){t.commit("ALERT",n),setTimeout(function(){var n={boolean:!1};t.commit("ALERT",n)},2e3)},closealert:function(t,n){t.commit("ALERT",n)},check:function(t){var n="".concat("https://vue-course-api.hexschool.io","/api/user/check");T.a.post(n).then(function(n){n.data.success?t.commit("STATUS",!0):t.commit("STATUS",!1)})},getProducts:function(t,n){var e=n;t.commit("LOADING",!0),e.then(function(n){t.commit("PRODUCTS",n.products),t.commit("PAGINATION",n.pagination),t.commit("LOADING",!1)})},addtoCart:function(t,n){var e=n.id,c=n.alertinfo,a=n.qty,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("icguanyu","/cart"),r={product_id:e,qty:a};t.commit("LOADING",!0),T.a.post(o,{data:r}).then(function(n){t.dispatch("getCart"),t.dispatch("showalert",c),t.commit("LOADING",!1)})},removeCartItem:function(t,n){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("icguanyu","/cart/").concat(n);t.commit("LOADING",!0),T.a.delete(e).then(function(n){t.dispatch("getCart")})},addCouponCode:function(t,n){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("icguanyu","/coupon"),c={code:n};T.a.post(e,{data:c}).then(function(n){t.dispatch("getCart")})}},mutations:{LOADING:function(t,n){t.isLoading=n},CARTS:function(t,n){t.cart=n},ALERT:function(t,n){t.alert=n},STATUS:function(t,n){t.status=n},PRODUCTS:function(t,n){t.products=n},PAGINATION:function(t,n){t.pagination=n}},getters:{status:function(t){return t.status},isLoading:function(t){return t.isLoading},cart:function(t){return t.cart},alert:function(t){return t.alert},products:function(t){return t.products},pagination:function(t){return t.pagination}}}),L=e("a7fe"),w=e.n(L),C=e("7bb1"),x=e("427f"),S=e.n(x),N=(e("a481"),e("c5f6"),function(t){var n=Number(t);return"￥".concat(n.toFixed(0).replace(/./g,function(t,n,e){var c=n&&"."!==t&&(e.length-n)%3===0?", ".concat(t).replace(/\s/g,""):t;return c}))}),P=function(t){var n=new Date(1e3*t);return n.toLocaleDateString()},E=function(t){var n=30,e=t.length;return e>n&&(t=t.substring(0,n-1)+"..."),t};e("4989");c["a"].use(d["a"]),c["a"].use(w.a,T.a),c["a"].use(C["a"]),C["a"].Validator.localize("zh_TW",S.a),c["a"].filter("currency",N),c["a"].filter("dateFilter",P),c["a"].filter("textlength",E),T.a.defaults.withCredentials=!0,c["a"].config.productionTip=!1,new c["a"]({router:A,store:_,render:function(t){return t(k)}}).$mount("#app"),A.beforeEach(function(t,n,e){if(t.meta.requiresAuth){var c="".concat("https://vue-course-api.hexschool.io","/api/user/check");T.a.post(c).then(function(t){console.log(t.data),t.data.success?e():(alert("请重新登录"),e({path:"/signin"}))})}else e()})},"5c0b":function(t,n,e){"use strict";var c=e("2856"),a=e.n(c);a.a},"646e":function(t,n,e){"use strict";var c=e("8862"),a=e.n(c);a.a},8862:function(t,n,e){},c428:function(t,n,e){"use strict";var c=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,n=t.$createElement,c=t._self._c||n;return c("div",{staticClass:"loading"},[c("img",{attrs:{src:e("f8b2"),alt:""}})])}],o={name:"loading"},r=o,u=(e("13eb"),e("2877")),i=Object(u["a"])(r,c,a,!1,null,null,null);i.options.__file="loading.vue";n["a"]=i.exports},f8b2:function(t,n,e){t.exports=e.p+"img/loading.45600eb9.gif"}});
//# sourceMappingURL=app.c24ee835.js.map